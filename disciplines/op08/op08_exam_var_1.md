# ОП.08 - Практический экзамен - Вариант №1

## База данных музыкальной коллекции

Необходимо разработать БД, в которой должны быть отражены следующие сущности:

- Сущность «Альбом»
  - Атрибут «Название альбома»
  - Атрибут «Дата выпуска альбома»
- Сущность «Исполнитель»
  - Атрибут «Имя исполнителя» (название группы)
- Сущность «Композиция»
  - Атрибут «Наименование композиции» (название песни)
- Сущность «Жанр»
  - Атрибут «Название жанра»

При этом, учесть, что:

- У исполнителя может быть несколько альбомов
- У композиции всегда только один исполнитель
- В альбоме может находиться одна или несколько композиций, но при этом конкретная композиция может находиться только в одном альбоме
- У композиции может быть указан только один жанр

Необходимо четко указывать названия таблиц и полей, в которые будет занесена информация.

Необходимо импортировать в созданную БД данные:

::: details exam_var_1_data.sql

```sql :collapsed-lines=5
@include: ./includes/exam_var_1_data.sql
```

:::

## Задачи

Необходимо разнести данные из временной таблицы `tmp` в каждую из вновь созданных в соответствии со структурой таблиц БД, при этом сохранив все связи, после чего таблицу `tmp` необходимо удалить из БД.

Необходимо написать соответствующие SQL-запросы для выполнения следующих действий с базой данных:

1. Для каждого исполнителя показать список его альбомов (отсортировать по исполнителю)
2. Найти все дублирующиеся композиции в рамках одного альбома одного исполнителя, удалить лишние, оставив только одну (на примере одного любого набора дублей)
3. Добавить в коллекцию любую композицию любого исполнителя, при этом у композиции обязательно должны быть указаны альбом и жанр
4. Вывести список композиций одного автора, выпущенных в одном году
5. Вывести количество альбомов и композиций в них у определенного исполнителя на выбор
6. Вывести все композиции в каком-либо одном жанре
7. Вывести три самых новых композиции по году (любого исполнителя)

::: tip

Рекомендуемый порядок разбора данных:

1. __Жанр__ (первичный ключ `id` генерируемый)
2. __Исполнитель__ (первичный ключ `id` генерируемый)
3. __Альбом__ (первичный ключ `id` генерируемый)
4. __Композиция__ (можно использовать `id` из `tmp` как первичный ключ)

:::

## Результат

Задание должно быть выполнено в локальной файловой системе компьютера. Папка со всеми файлами задания должна называться:

__`ОП.08 - Вариант 1 - Иванов И.И.`__

где вместо `Иванов И.И.` должны быть указаны фамилия и инициалы сдающего.

Результат выполнения задания должен быть оформлен в виде файлов:

1. Файл дампа итоговой БД в формате SQL, должен называться: `db_1.sql`
2. Файл последовательных SQL-запросов для каждого из пунктов задания, должен называться: `task_1.sql`, каждый запрос должен отделяться комментарием с номером соответствующего пункта задания
3. Файл, отражающий ERD-диаграмму созданной БД со всеми связями, должен называться `erd_1.png`
