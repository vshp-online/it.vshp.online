# МДК.11.01 - 11 - Шестая нормальная форма (6NF) базы данных

Сегодня мы с Вами рассмотрим шестую нормальную форму (6NF) базы данных, Вы узнаете, что это за нормальная форма и какие требования предъявляются к таблицам, чтобы база данных находилась в шестой нормальной форме.

## **Описание шестой нормальной формы (6NF)**

Шестая нормальная форма (6NF) была введена при работе с хронологическими базами данных.

**Хронологическая база данных** — это база, которая может хранить не только текущие данные, но и исторические данные, т.е. данные, относящиеся к прошлым периодам времени. Однако такая база может хранить и данные, относящиеся к будущим периодам времени.

В процессе проектирования хронологических баз данных возникают некоторые особые проблемы, решить которые можно с помощью: горизонтальной декомпозиции и вертикальной декомпозиции.

В данном случае нас интересует вертикальная декомпозиция, процесс которой очень сильно напоминает нашу классическую нормализацию, которую мы рассматривали до пятой нормальной формы включительно.

Иными словами, декомпозиция таблиц, которую мы использовали для приведения этих таблиц к той или иной нормальной форме, по факту и является вертикальной декомпозицией.

В процессе изучения хронологических баз данных исследователи выдвигали доводы в пользу максимально возможной вертикальной декомпозиции таблиц, а не просто их декомпозиции до какой-то определённой степени, которую требует классическая теория нормализации. Общая идея состояла в том, что таблицы должны быть приведены к неприводимым компонентам, под этим подразумеваются такие компоненты, для которых дальнейшая декомпозиция без потерь становится невозможной.

Теперь стоит напомнить, что пятая нормальная форма основана на так называемых зависимостях соединения.

А поскольку вертикальная декомпозиция, которая используется в хронологических базах данных, представляет собой классическое разделение таблиц на проекции, была сформулирована новая нормальная форма, основанная на обобщенном понятии зависимости соединения, поэтому новую форму назвали *«Шестая нормальная форма».*

> Требование шестой нормальной формы заключается в том, что таблица должна удовлетворять всем нетривиальным зависимостям соединения.

Из этого определения следует, что таблица находится в 6NF, когда она неприводима, то есть не может быть подвергнута дальнейшей декомпозиции без потерь. Стоит отметить, что таблица, которая находится в 6NF, также находится и в 5NF, и во всех предыдущих.

Шестая нормальная форма вводит такое понятие как **«Декомпозиция до конца»**, т.е. максимально возможная декомпозиция таблиц.

Идея «декомпозиции до конца» выдвигалась до начала исследований в области хронологических данных, но не нашла поддержки. Однако для хронологических баз данных максимально возможная декомпозиция позволяет бороться с избыточностью и упрощает поддержание целостности базы данных.

Для хронологических баз данных определены U_операторы, которые распаковывают отношения по указанным атрибутам, выполняют соответствующую операцию и упаковывают полученный результат. В данном примере соединение проекций отношения должно производиться при помощи оператора U_JOIN.

### **Работники**

| Таб. № | Время | Должность | Домашний адрес |
| --- | --- | --- | --- |
| 6575 | [01-01-2000:10-02-2003] | слесарь | ул. Ленина, 10 |
| 6575 | [11-02-2003:15-06-2006] | слесарь | ул. Советская, 22 |
| 6575 | [16-06-2006:05-03-2009] | бригадир | ул. Советская, 22 |

Переменная отношения «Работники» не находится в 6НФ и может быть подвергнута декомпозиции на переменные отношения «Должности работников» и «Домашние адреса работников».

### Должности работников

| Таб. № | Время | Должность |
| --- | --- | --- |
| 6575 | [01-01-2000:15-06-2006] | слесарь |
| 6575 | [16-06-2006:05-03-2009] | бригадир |

### **Домашние адреса работников**

| Таб. № | Время | Домашний адрес |
| --- | --- | --- |
| 6575 | [01-01-2000:10-02-2003] | ул. Ленина, 10 |
| 6575 | [11-02-2003:15-06-2006] | ул. Советская, 22 |

Однако, если в хронологических базах данных такая нормализация может быть полезна, так как она позволяет бороться с избыточностью, то в нехронологических базах данных нормализация таблиц до шестой нормальной формы приведёт к значительному снижению производительности. Кроме этого такая нормализация сделает работу с базой данных очень сложной за счет многократного увеличения количества таблиц.

Поэтому шестую нормальную форму в реальном мире не используют, более того, трудно даже представить себе ситуацию, при которой возникала бы необходимость нормализовать базу данных до шестой нормальной формы.

Здесь снова давайте вспомним, что нет никакой необходимости приводить базу данных до какой-то определенной нормальной формы.

> Процесс проектирования правильной базы данных — это не процесс приведения ее к самой высокой нормальной форме, это компромисс между отсутствием аномалий и приемлемой производительностью.

Поэтому в процессе нормализации базы данных необходимо руководствоваться в первую очередь требованиями к разрабатываемой системе и требованиями предметной области. Вы должны подумать о том, какие именно операции (действия) будут выполняться над данными. Так все ошибки нормализации станут очевидными и Вы сможете увидеть, какие аномалии могут возникнуть в тех или иных случаях, и принимать решения о нормализации, иными словами, Вы должны руководствоваться здравым смыслом.
