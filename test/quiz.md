# Квизы (Markdown-плагин)

`::: quiz` — кастомный контейнер для вопросов с вариантами ответов.

Доступные опции контейнера (в скобках указано значение по умолчанию):

- `randomize-questions` (false) — перемешать вопросы;
- `randomize-answers` (false) — перемешать ответы в каждом вопросе;
- `hide-correct-answers` (false) — не подсвечивать правильные варианты после проверки;
- `disable-reset` (false) — скрыть кнопку сброса (повторное прохождение будет недоступно);
- `questions-limit=<n>` (используются все вопросы) — ограничить число вопросов, выбранных из базы (актуально при перемешивании);
- `source=<path>` (не задано) — загрузить базу вопросов из внешнего JSON или YAML файла.

Если используется `source`, путь считается относительно текущего Markdown-файла (можно также указывать абсолютные или `@/` пути). В файле достаточно перечислить массив объектов с полями `question` (или `prompt`), `type` (`single` / `multiple`) и `answers` (строка или объект с `text`/`content` и `correct`/`isCorrect`).

Служебные директивы внутри контейнера:

- `@question` — начало формулировки вопроса;
- `@answer` — дальше идёт список с радиокнопками (один правильный вариант);
- `@answers` — список с чекбоксами (несколько правильных вариантов).

## Встроенный (Markdown) вариант

Классический случай: все вопросы задаём прямо в Markdown, в нужных местах оставляем `@question`, `@answer` или `@answers`. Для демонстрации добавлен лимит в три вопроса, чтобы показать, что даже при большой «базе» можно отдать пользователю только часть.

::: preview Показать исходник

  ::: quiz randomize-questions randomize-answers hide-correct-answers questions-limit=3

    @question

    Это вопрос на который есть один верный вариант.

    @answer

    - [ ] неверный
    - [x] верный
    - [ ] еще неверный
    - [ ] и еще неверный

    @question

    На этот вопрос есть несколько верных вариантов.

    @answers

    - [ ] неверный
    - [x] верный
    - [ ] еще неверный
    - [x] и еще верный

    @question

    Здесь дополнительный одиночный вопрос без перемешивания внутри текста.

    @answer

    - [x] Единственный верный вариант
    - [ ] Вариант без галочки считается неверным

    @question

    Выберите лишнее число.

    @answer

    - [ ] 1
    - [x] 0
    - [ ] 2
    - [ ] 4

    @question

    Вопрос с множественными вариантами без описания.

    @answers

    - [x] Первый ответ
    - [ ] Второй ответ
    - [x] Третий ответ

  :::

:::

## Квиз из JSON-файла

Можно вынести базу вопросов в JSON и просто ссылаться на неё через параметр `source`. Для примера используем файл `./includes/quiz-bank.json`.

::: preview Показать исходник

  ::: quiz source=./includes/quiz-bank.json randomize-questions randomize-answers hide-correct-answers questions-limit=3
  :::

:::

## Квиз из YAML-файла

Аналогично работает YAML-файл `./includes/quiz-bank.yaml`.

::: preview Показать исходник

  ::: quiz source=./includes/quiz-bank.yaml randomize-questions randomize-answers hide-correct-answers questions-limit=3
  :::

:::
